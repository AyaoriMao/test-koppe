# 検索機能の作成
商品一覧ページの用意ができたので、次にサーチバーで検索した際にその検索値に応じた商品を画面に表示する機能を作成します。base.htmlにて検索フォームの枠のみ作成済みなので、今回はこのフォームのsubmit時に、検索値とともに先ほどの一覧ページへリクエストを投げるよう変更します。
## ベーステンプレートの修正
ベーステンプレートのサーチバー部分を修正します。

まずはbase.htmlの中のサーチバー部分のコードを探してください。
```
〜略〜
<form method= "get" action="" class="search-wrap">
    <div class="input-group">
        <input name="q" type="text" class="form-control" placeholder="Search">
        <div class="input-group-append">
            <button id="id_search_button" class="btn btn-warning" type="submit">
            <i class="fa fa-search"></i>
            </button>
        </div>
    </div>
</form> <!-- search-wrap .end// -->
〜略〜
```

現在のフォームではsubmit時にqというパラメータとともに同一ページにGETするような記載になっているので、このリクエスト先を先ほど作成した商品一覧ページのURLへ変更したいと思います。

以下のようにformのaction属性を変更します。
```
〜略〜
<form method= "get" action="{% url 'amazon:item_list' %}" class="search-wrap">
    <div class="input-group">
        <input name="q" type="text" class="form-control" placeholder="Search">
        <div class="input-group-append">
            <button id="id_search_button" class="btn btn-warning" type="submit">
            <i class="fa fa-search"></i>
            </button>
        </div>
    </div>
</form> <!-- search-wrap .end// -->
〜略〜
```

これでsubmit時にamazon名前空間(アプリ)のitem_listという名前のルーティング先へリクエストを投げるようになります。

実際に試してみましょう。

まずはランディングページを表示します。
localhost:8000/techpit/amazon/lp

[![Image from Gyazo](https://i.gyazo.com/ae20ad8070ce40245d11f26e44a81f18.png)](https://gyazo.com/ae20ad8070ce40245d11f26e44a81f18)


サーチバーに"_1"と入力し、検索ボタンを押してみましょう。

[![Image from Gyazo](https://i.gyazo.com/1f3286335004b5af8d7237dd26f6634f.png)](https://gyazo.com/1f3286335004b5af8d7237dd26f6634f)


これで検索機能の完成です。

以上で今回のパートは終了です。

お疲れ様でした。

