# ビューの作成

# ビューの作成
このページのビューでは、冒頭でも記載したようにDetailViewという汎用クラスビューを利用することとします。

```
amazon/
　├ static/
　├ __init__.py
　├ apps.py
　├ models.py
　├ views.py　←　このファイルを修正します。
　├ admin.py
　├ migrations/
　└ test.py
```
views.pyの最後に以下のコードを追記しましょう。

```
～ 略 ～
from .models import *
～ 略 ～
class ItemDetail(generic.DetailView):
    model = Product
    template_name = 'amazon/item_detail.html'

```

ここでは、ItemDetailクラスをdjangoのDetailViewのサブクラスとして定義しており、全パートで作成したテンプレートファイルをtemplate_nameにて指定しております。またmodelプロパティには表示対象のモデルのクラスを指定しますので、今回はProductクラスを指定します。また、前章でListViewを利用した際は、テンプレートにどのような変数を渡すのかを定義するメソッドをオーバライドしておりましたが、今回の作成するItemDetailクラスでは親クラスのDetailViewのデフォルトの関数を利用することとするので、オーバライドはしません。ではそのデフォルトの関数はどのような挙動をするのかですが、アクセスされたURLから、モデルの主キー値(pk)を抽出し、その主キーをもつモデル(今回はProduct)インスタンスを`object`という名でテンプレートに渡します。そのため、前パートで作成したテンプレートでobject.xxxというように商品インスタンスにアクセスしておりました。では残りの`アクセスされたURLから、モデルの主キー値(pk)を抽出し...`の部分は次パートで理解しましょう。

以上で今回のパートは終了です。

お疲れ様でした。


